(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},52:function(e,t,n){e.exports=n(76)},57:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(41),l=n.n(i),o=(n(57),n(3)),c=n(4),s=n(6),u=n(5),m=n(7),d=n(81),p=n(83),h=n(84),E=(n(16),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("h2",null,"ReceiptsPro"),r.a.createElement("ul",{className:"navBar"},r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Main")),r.a.createElement("li",null,r.a.createElement("a",{href:"/MyReceipts"},"My receipts")),r.a.createElement("li",null,r.a.createElement("a",{href:"/Signup"},"Sign up")),r.a.createElement("li",{id:"lastBarLi"},r.a.createElement("a",{href:"/login"},"Login"))))}}]),t}(a.Component)),b=n(10),v=n(19),g=n(14);function y(){var e=Object(v.a)(["\n  {\n    ListCurrentUserReceipts{\n      date\n      description\n      imageUrl\n      itemName\n      price\n      uuid\n    }\n  }\n"]);return y=function(){return e},e}function f(){var e=Object(v.a)(["\n\n    mutation($date:Date!,$description:String,$imageUrl:String!,$item_name:String!,$cost:Int!) {\n      createReceipt(\n        date:$date,\n        description:$description,\n        imageUrl: $imageUrl,\n        itemName: $item_name,\n        price: $cost,\n\n      ){\n        uuid\n      }\n    }\n"]);return f=function(){return e},e}function C(){var e=Object(v.a)(["\n  mutation($email:String,$password:String){\n    loginUser(\n      email:$email,\n      password:$password\n    ){\n      accessToken\n      idToken\n    }\n  }\n"]);return C=function(){return e},e}function O(){var e=Object(v.a)(["\n  mutation($email:String,$confirmationCode:String){\n    ConfirmUserRegistration(\n      email:$email,\n      confirmationCode:$confirmationCode\n    )\n}\n"]);return O=function(){return e},e}function j(){var e=Object(v.a)(["\n  mutation($email:String,$familyName:String, $name:String!, $password:String!){\n    CreateUser(\n      email:$email,\n      familyName:$familyName,\n      name:$name,\n      password:$password\n    ){\n      uuid\n    }\n  }\n"]);return j=function(){return e},e}var w=Object(g.b)(j()),S=Object(g.b)(O()),I=Object(g.b)(C()),R=Object(g.b)(f()),M=Object(g.b)(y()),D=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).validateCode=function(e){var t=document.getElementById("inputCCode");if(!(t.value<6))return t.style.borderColor="#5ED50F",!0;t.style.borderColor="red"},n.sendCode=function(e){e.preventDefault(),!0===n.validateCode()&&(alert(n.props.emailForCCode),n.props.submitMutation({variables:{email:n.props.emailForCCode,confirmationCode:n.state.code}}).then(console.log(n.props)))},n.state={code:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"ConfirmForm",onSubmit:this.sendCode},r.a.createElement("div",null,r.a.createElement("span",null,"Massage with a confirmation code was sent to your e-mail"),r.a.createElement("br",null),r.a.createElement("input",{id:"inputCCode",placeholder:"Enter your confirmation code",type:"text",onChange:function(t){return e.setState({code:t.target.value})},onMouseOut:this.validateCode}),r.a.createElement("button",{id:"submitCodeForm"},"Submit"))))}}]),t}(a.Component),B=Object(b.graphql)(S,{name:"submitMutation"})(D),k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).validateName=function(e){var t=document.getElementById("errorSpan"),n=document.getElementById("inputN");if(!(n.value<2))return n.style.borderColor="#5ED50F",!0;t.style.visibility="visible",n.style.borderColor="red",t.innerHTML="Name has to posess 2 or more symbols"},n.validateMail=function(e){var t=document.getElementById("inputEmail"),n=document.getElementById("errorSpan");if(""!==t.value&&/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/gim.test(t.value))return t.style.borderColor="#5ED50F",!0;n.style.visibility="visible",t.style.borderColor="red",n.innerHTML="Email is incorrect"},n.validateFname=function(e){var t=document.getElementById("inputF"),n=document.getElementById("errorSpan");if(!(t.value<2))return t.style.borderColor="#5ED50F",!0;n.style.visibility="visible",t.style.borderColor="red",n.innerHTML="Family name has to posess 2 or more symbols"},n.validatePass=function(e){var t=document.getElementById("inputPass"),n=document.getElementById("errorSpan");if(!(t.value.length<6))return t.style.borderColor="#5ED50F",!0;n.style.visibility="visible",t.style.borderColor="red",n.innerHTML="Password has to posess 6 or more symbols"},n.validatePass1=function(e){var t=document.getElementById("inputPass"),n=document.getElementById("inputPass1"),a=document.getElementById("errorSpan");if(n.value===t.value&&""!==n.value)return t.style.borderColor="#5ED50F",n.style.borderColor="#5ED50F",!0;a.style.visibility="visible",t.style.borderColor="red",n.style.borderColor="red",a.innerHTML="Passwords does not match"},n.sendRegistration=function(e){e.preventDefault(),!0===n.validateName()&&!0===n.validateMail()&&!0===n.validateFname()&&!0===n.validatePass()&&!0===n.validatePass1()&&(n.props.createDamnUser({variables:{email:n.state.email,familyName:n.state.familyName,name:n.state.name,password:n.state.password}}).catch(function(e){return alert(e)},n.setState({error:!0})).then(function(e){n.state.error||(console.log(e.data.CreateUser.uuid),n.setState({signUpDone:!0}),n.props.history.push("/Login"))}),console.log(n.props))},n.CCRender=function(){if(n.state.signUpDone)return r.a.createElement(B,{emailForCCode:n.state.email})},n.state={email:"",familyName:"",name:"",password:"",signUpDone:!1,error:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"SignUpForm",onSubmit:this.sendRegistration},r.a.createElement("div",null,r.a.createElement("input",{id:"inputN",placeholder:"Enter your name",type:"text",onChange:function(t){return e.setState({name:t.target.value})},onMouseOut:this.validateName}),r.a.createElement("br",null),r.a.createElement("input",{id:"inputF",placeholder:"Enter your family name",type:"text",onChange:function(t){return e.setState({familyName:t.target.value})},onMouseOut:this.validateFname}),r.a.createElement("br",null),r.a.createElement("input",{id:"inputEmail",placeholder:"Enter your email",type:"email",onChange:function(t){return e.setState({email:t.target.value})},onMouseOut:this.validateMail}),r.a.createElement("br",null),r.a.createElement("input",{id:"inputPass",placeholder:"Enter your password",type:"password",onChange:function(t){return e.setState({password:t.target.value})},onMouseOut:this.validatePass}),r.a.createElement("br",null),r.a.createElement("input",{id:"inputPass1",placeholder:"Confirm your password",type:"password",onChange:function(t){return e.setState({itemName:t.target.value})},onMouseOut:this.validatePass1}),r.a.createElement("br",null),r.a.createElement("button",{id:"submitSignForm"},"Submit"),r.a.createElement("p",null,"Already have an account?"),r.a.createElement("a",{href:"/Login"},"Login"),"  ",r.a.createElement("span",{id:"errorSpan"},"Something is wrong"),r.a.createElement("br",null))),r.a.createElement("div",null,this.CCRender()))}}]),t}(a.Component),L=Object(b.graphql)(w,{name:"createDamnUser"})(k),N=new g.a({uri:"https://whopping-parched-xoloitzcuintli.gigalixirapp.com/"}),P=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.ApolloProvider,{client:N},r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement("h2",null,"Ez new PC"),r.a.createElement("br",null),r.a.createElement(L,{history:this.props.history})))}}]),t}(a.Component),U=n(50),F=n(15),x=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).showAllTitles=function(){n.props.showReceipts().then(function(e){console.log(e.data)})},n.sortData=function(e){return e.sort(function(e,t){return new Date(t.date)-new Date(e.date)})},n.displayReceipts=function(e){var t=n.state.sortChecked?n.sortData(n.props.showReceipts.ListCurrentUserReceipts):n.props.showReceipts.ListCurrentUserReceipts;if(n.props.showReceipts.loading)return r.a.createElement("div",null,"Loading receipts...");if(t){var a=0,i=0,l=new Date;return l.setMonth(l.getMonth()-1),t.forEach(function(e){a=e.price+a,new Date(e.date)>l&&(i=e.price+i)}),document.getElementById("expences").innerHTML="Overall you spent "+a,document.getElementById("monthExp").innerHTML="This month you spent "+i,t.map(function(e,t){return r.a.createElement("li",{value:t,key:t,onClick:n.displayClickedRes},e.itemName)})}alert("You are not logged in"),n.props.history.push("/Login")},n.displayClickedRes=function(e){var t=n.props.showReceipts.ListCurrentUserReceipts;document.getElementById("receiptDetails").style.visibility="visible",document.getElementById("Rprice").innerHTML=t[e.target.value].price,document.getElementById("Rdescription").innerHTML=t[e.target.value].description,document.getElementById("receiptPict").src=t[e.target.value].imageUrl,document.getElementById("Rdate").innerHTML=t[e.target.value].date,document.getElementById("itemName").innerHTML="You bought "+t[e.target.value].itemName},n.closeDescription=function(){document.getElementById("receiptDetails").style.visibility="hidden";var e=n.props.showReceipts.ListCurrentUserReceipts.sort(function(e,t){return new Date(t.date)-new Date(e.date)});console.log(e)},n.checkSorting=function(e){console.log(e.target.checked),n.setState({sortChecked:e.target.checked}),e.target.disabled=!0},n.state={sortChecked:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"allReceiptsComp"},r.a.createElement("div",{id:"receiptDetails"},r.a.createElement("h2",{id:"itemName"},"Second div"),r.a.createElement("div",{id:"expInfo"},r.a.createElement("p",{id:"expences"},"Your overall expences"),r.a.createElement("p",{id:"monthExp"},"Your month expences")),r.a.createElement("div",{id:"wholeReceiptsInfo"},r.a.createElement("h4",null,"Price"),r.a.createElement("span",{id:"Rprice"},".."),r.a.createElement("h4",null,"Description"),r.a.createElement("span",{id:"Rdescription"},".."),r.a.createElement("h4",null,"Looks like"),r.a.createElement("div",{id:"imgContainer"},r.a.createElement("img",{id:"receiptPict",src:"https://tse3.mm.bing.net/th?id=OIP.ovbhqiA_tvBo8XWz6adbugHaHa&pid=Api&w=348&h=348&rs=1&p=0",alt:"receipt"})),r.a.createElement("h4",null,"Purchased"),r.a.createElement("span",{id:"Rdate"}),r.a.createElement("br",null),r.a.createElement("button",{id:"ClosedDescription",onClick:this.closeDescription},"Close"))),r.a.createElement("div",{id:"sidebar"},r.a.createElement("h2",null,"Your receipts:"),r.a.createElement("div",{id:"checkBoxContainer"},r.a.createElement("input",{id:"sort",type:"checkbox",onChange:this.checkSorting}),r.a.createElement("label",{htmlFor:"sort"},"Sort by date")),r.a.createElement("ul",{id:"allReceipts"},this.displayReceipts(),";"))))}}]),t}(a.Component),$=Object(b.graphql)(M,{name:"showReceipts"})(x),H=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).validateIname=function(e){var t=document.getElementById("INamefield"),n=document.getElementById("errorSpan");if(!(t.value<2))return t.style.borderColor="#5ED50F",!0;n.style.visibility="visible",t.style.borderColor="red",n.innerHTML="Has to be at least two letters"},n.validateIprice=function(e){var t=document.getElementById("Pricefield"),n=document.getElementById("errorSpan");if(/^[0-9]+$/.test(t.value))return t.style.borderColor="#5ED50F",!0;n.style.visibility="visible",t.style.borderColor="red",n.innerHTML="Price should contain only numeric characters"},n.validateUrl=function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),n=document.getElementById("Urlfield"),a=document.getElementById("errorSpan");if(t.test(n.value))return n.style.borderColor="#5ED50F",!0;a.style.visibility="visible",n.style.borderColor="red",a.innerHTML="Has to be a URL adress"},n.getJWT=function(){return localStorage.getItem("my-jwt")},n.submitReceiptForm=function(e){var t=(new Date).toISOString().substring(0,10);e.preventDefault(),!0===n.validateIname()&&!0===n.validateIprice()&&!0===n.validateUrl()&&(n.props.createReceipt({variables:{date:t,description:n.state.description,imageUrl:n.state.imageUrl,item_name:n.state.itemName,cost:parseInt(n.state.price),submitReceiptDone:!1}}).catch(function(e){alert(e)}).then(function(e){console.log(e),n.setState({submitReceiptDone:!0}),window.location.reload()}),console.log(n.props))},n.state={itemName:"",price:"",description:"",imageUrl:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Create your receipt"),r.a.createElement("form",{id:"AddReceipt",onSubmit:this.submitReceiptForm},r.a.createElement("div",null,r.a.createElement("label",null,"Enter an item name"),r.a.createElement("input",{id:"INamefield",type:"text",onMouseOut:this.validateIname,onChange:function(t){return e.setState({itemName:t.target.value})}})),r.a.createElement("div",null,r.a.createElement("label",null,"Enter its price"),r.a.createElement("input",{id:"Pricefield",type:"text",onMouseOut:this.validateIprice,onChange:function(t){return e.setState({price:t.target.value})}})),r.a.createElement("div",null,r.a.createElement("label",{className:"field"},"Add a description"),r.a.createElement("input",{id:"Descfield",type:"text",onChange:function(t){return e.setState({description:t.target.value})}})),r.a.createElement("div",null,r.a.createElement("label",{className:"field"},"Enter a url of your item"),r.a.createElement("input",{id:"Urlfield",type:"text",onMouseOut:this.validateUrl,onChange:function(t){return e.setState({imageUrl:t.target.value})}}),r.a.createElement("span",{id:"errorSpan"},"There is a mistake")),r.a.createElement("br",null),r.a.createElement("button",null,"Add a receipt")),r.a.createElement($,{history:this.props.history,ref:"SideComp"}))}}]),t}(a.Component),T=Object(b.graphql)(R,{name:"createReceipt"})(H),A=n(20),z=n(48),_=n(82),q=Object(A.b)({uri:" https://whopping-parched-xoloitzcuintli.gigalixirapp.com/"}),Z=Object(z.a)(function(e,t){var n=t.headers,a=localStorage.getItem("my-jwt");return{headers:Object(U.a)({},n,{Authorization:a?"Bearer ".concat(a):""})}}),W=new F.default({link:Z.concat(q),cache:new _.a}),Y=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.ApolloProvider,{client:W},r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement("br",null),r.a.createElement(T,{history:this.props.history})))}}]),t}(a.Component),J=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).validateMail=function(e){var t=document.getElementById("inputEmail"),n=document.getElementById("errorSpan");if(""!==t.value&&/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/gim.test(t.value))return t.style.borderColor="#5ED50F",!0;n.style.visibility="visible",t.style.borderColor="red",n.innerHTML="Email is incorrect"},n.validatePass=function(e){var t=document.getElementById("inputPass"),n=document.getElementById("errorSpan");if(!(t.value.length<6))return t.style.borderColor="#5ED50F",!0;n.style.visibility="visible",t.style.borderColor="red",n.innerHTML="Password has to posess 6 or more symbols"},n.sendLogin=function(e){var t=document.getElementById("errorSpan");e.preventDefault(),!0===n.validateMail()&&!0===n.validatePass()&&(n.setState({error:!1}),n.props.loginDamnUser({variables:{email:n.state.email,password:n.state.password}}).catch(function(e){alert(e),n.setState({error:!0}),t.innerHTML="Login or password is incorrect"}).then(function(e){console.log(e),!n.state.error&&e.data&&(console.log(e.data),localStorage.setItem("my-jwt",e.data.loginUser.accessToken),n.props.history.push("/MyReceipts"))}))},n.state={email:"",password:"",error:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("form",{className:"SignUpForm",onSubmit:this.sendLogin},r.a.createElement("div",null,r.a.createElement("input",{id:"inputEmail",placeholder:"Enter your email",type:"email",onChange:function(t){return e.setState({email:t.target.value})},onMouseOut:this.validatePass}),r.a.createElement("br",null),r.a.createElement("input",{id:"inputPass",placeholder:"Enter your password",type:"password",onChange:function(t){return e.setState({password:t.target.value})},onMouseOut:this.validateMail}),r.a.createElement("br",null),r.a.createElement("button",{id:"submitLoginForm"},"Submit"),r.a.createElement("p",null,"Dont have an account?"),r.a.createElement("a",{href:"/Signup"},"Create one"),"  ",r.a.createElement("span",{id:"errorSpan"},"Here is a span"))))}}]),t}(a.Component),G=Object(b.graphql)(I,{name:"loginDamnUser"})(J),X=new g.a({uri:"https://whopping-parched-xoloitzcuintli.gigalixirapp.com/"}),K=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.ApolloProvider,{client:X},r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(G,{history:this.props.history})))}}]),t}(a.Component),Q=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mainPageBackground"},r.a.createElement(E,null),r.a.createElement("br",null),r.a.createElement("header",{className:"mainHeader"},r.a.createElement("h1",{className:"mainHeader"},"Wellcome to ReceiptsPro"),r.a.createElement("p",null,"App for recording your receipts"),r.a.createElement("button",{id:"getStartedButt"},r.a.createElement("a",{href:"/Signup"},"Get Started"))),r.a.createElement("div",{id:"mainMiddle"},r.a.createElement("div",{id:"descriptionContainer"},r.a.createElement("h2",null,"ReceiptsPro"),r.a.createElement("p",null,"In order to proceed you should sign up first, by pressing the 'get started button' or by clicking 'Sign in' on the navbar, then just log in using you email and password after that you will be redirected to a page where you can create and observe receipts;")),r.a.createElement("div",{id:"imgLogoContainer"},r.a.createElement("img",{src:"https://t0.rbxcdn.com/276ff4919adca2f2f3f8c58285446f31",alt:"icon"}))))}}]),t}(a.Component),V=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{path:"/",exact:!0,component:Q}),r.a.createElement(h.a,{path:"/Signup",exact:!0,component:P}),r.a.createElement(h.a,{path:"/MyReceipts",exact:!0,component:Y}),r.a.createElement(h.a,{path:"/Login",exact:!0,component:K})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,2,1]]]);
//# sourceMappingURL=main.d42488cf.chunk.js.map